<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<div id="div"></div>
		
		<script type="text/javascript">
			var obj ={
				'index':['0','1','2'],
				'pro':['江西','浙江','江苏','广东','上海'],
				'city':[
					['南昌','吉安','九江','宜春','上饶','赣州'],
					['杭州','金华','义乌','湖州','温州','宁波'],
					['南京','无锡','徐州市','常州市','苏州市','南通市','淮安市'],
					['广州','揭阳','潮州','潮汕','湛江','梅州'],
					['黄浦区','徐汇区','长宁区','静安区','普陀区','虹口区','闵行区','宝山区']
				],
				'contry':[
					[
						['南昌县','测试1','测试2','测试3','测试4','测试5','测试6','测试7'],
						['吉安县','测试1','测试2','测试3','测试4','测试5','测试6','测试5','测试5','测试6','测试5','测试6'],
						['九江县','测试1','测试2','测试3','测试4','测试5','测试6','测试4','测试5','测试6'],
						['宜春县','测试1','测试2','测试3','测试4','测试5','测试6'],
						['上饶县','测试1','测试2','测试3','测试4','测试5','测试6','测试5','测试6'],
						['赣州县','测试1','测试2','测试3','测试4','测试5','测试6','测试5','测试6','测试5','测试6']
					],
					[
						['杭州县','测试1','测试2','测试3','测试4','测试5','测试6','测试7'],
						['金华县','测试1','测试2','测试3','测试4','测试5','测试6','测试5','测试5','测试6','测试5','测试6'],
						['义乌县','测试1','测试2','测试3','测试4','测试5','测试6','测试4','测试5','测试6'],
						['湖州县','测试1','测试2','测试3','测试4','测试5','测试6','测试5','测试6'],
						['温州县','测试1','测试2','测试3','测试4','测试5','测试6'],
						['宁波县','测试1','测试2','测试3','测试4','测试5','测试6','测试5','测试6','测试5','测试6']
					],
					[
						['南京县','测试1','测试2','测试3','测试4','测试5','测试6','测试7'],
						['无锡县','测试1','测试2','测试3','测试4','测试5','测试6','测试5','测试5','测试6','测试5','测试6'],
						['徐州','测试1','测试2','测试3','测试4','测试5','测试6','测试4','测试5','测试6'],
						['常州县','测试1','测试2','测试3','测试4','测试5','测试6'],
						['苏州县','测试1','测试2','测试3','测试4','测试5','测试6','测试5','测试6'],
						['南通县','测试1','测试2','测试3','测试4','测试5','测试6','测试5','测试6','测试5','测试6'],
						['淮安县','测试1','测试2','测试3','测试4','测试5','测试6']
					],
					[
						['广州县','测试1','测试2','测试3','测试4','测试5','测试6','测试7'],
						['揭阳县','测试1','测试2','测试3','测试4','测试5','测试6','测试5','测试5','测试6','测试5','测试6'],
						['潮州县','测试1','测试2','测试3','测试4','测试5','测试6','测试4','测试5','测试6'],
						['潮汕县','测试1','测试2','测试3','测试4','测试5','测试6'],
						['湛江县','测试1','测试2','测试3','测试4','测试5','测试6','测试5','测试6'],
						['梅州县','测试1','测试2','测试3','测试4','测试5','测试6','测试5','测试6','测试5','测试6']
					],
					[
						['黄浦区','测试1','测试2','测试3','测试4','测试5','测试6','测试7'],
						['徐汇区','测试1','测试2','测试3','测试4','测试5','测试6','测试5','测试5','测试6','测试5','测试6'],
						['长宁区','测试1','测试2','测试3','测试4','测试5','测试6','测试4','测试5','测试6'],
						['静安区','测试1','测试2','测试3','测试4','测试5','测试6'],
						['普陀区','测试1','测试2','测试3','测试4','测试5','测试6','测试5','测试6'],
						['虹口区','测试1','测试2','测试3','测试4','测试5','测试6','测试5','测试6','测试5','测试6'],
						['闵行区','测试1','测试2','测试3','测试4','测试5','测试6','测试5','测试6'],
						['宝山区','测试1','测试2','测试3','测试4','测试5','测试6','测试5','测试6','测试5','测试6']
					],
				]
			};
			var oDiv = document.getElementById('div');
			var aSel = document.getElementsByTagName('select');
			for (var i=0 ; i<obj.index.length; i++) {
				var oSel = document.createElement('select');
				var oPt = document.createElement('option');
				oPt.innerHTML = '默认';
				oSel.appendChild(oPt);
				oSel.style.width ='120px';
				oSel.style.marginRight='10px';
				oDiv.appendChild(oSel);
				oSel.index =i;
				
				
				oSel.onchange = function(){
					change.call(this,this.index);
				};
			};
			addPro();
			function addPro(){
				for (var i=0 ; i<obj.pro.length; i++) {
					var oPt = document.createElement('option');
					oPt.innerHTML = obj.pro[i];
					aSel[0].appendChild(oPt);
				};
			}
			
			
			function change(iNow){
				
				var num =0;
				var num1=0;
				if(iNow+1==aSel.length){
					return false;
				}
				aSel[iNow+1].innerHTML ='<option>默认</option>';   //设置下个select的第一项为默认,也是为了清空后面增加项
				
				if(iNow ==0 ){
					num = this.selectedIndex -1;
					if(this.selectedIndex ==0 ){
						for (var i=0; i<aSel.length;i++) {
							aSel[i].options.length=1;
						}
						addPro();
						return false;
					}
					for (var i=0 ; i<obj.city.length; i++) {
						var oPt = document.createElement('option');
						oPt.innerHTML = obj.city[num][i];
						aSel[iNow+1].appendChild(oPt);
						
					};
				}else if(iNow==1){
					num = aSel[iNow-1].selectedIndex -1;
					num1 = this.selectedIndex -1;
					if(this.selectedIndex ==0 ){
						iNow ++;
						aSel[iNow].options.length=1;
						return false;
					}
					for (var i=0 ; i<obj.contry.length; i++) {
						var oPt = document.createElement('option');
						oPt.innerHTML = obj.contry[num][num1][i];
						aSel[iNow+1].appendChild(oPt);
					};
				}else if(iNow == 2){
					aSel[iNow].options.length=1;
				}
					
					
			}
			
		</script>
	</body>
</html>
